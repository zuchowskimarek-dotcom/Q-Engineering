{"meta":{"type":"db","canSave":true,"canEdit":true,"canAdmin":true,"canStar":true,"canDelete":true,"slug":"project-engineering-metrics","url":"/d/project-metrics/project-engineering-metrics","expires":"0001-01-01T00:00:00Z","created":"2026-01-18T04:53:54+01:00","updated":"2026-01-19T22:14:22+01:00","updatedBy":"admin","createdBy":"admin","version":8,"hasAcl":false,"isFolder":false,"apiVersion":"v0alpha1","folderId":0,"folderUid":"","folderTitle":"General","folderUrl":"","provisioned":false,"provisionedExternalId":"","annotationsPermissions":{"dashboard":{"canAdd":true,"canEdit":true,"canDelete":true},"organization":{"canAdd":true,"canEdit":true,"canDelete":true}}},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":1,"links":[],"panels":[{"datasource":{"type":"grafana-postgresql-datasource","uid":"dfa30v4tij0n4d"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":0},"id":4,"options":{"barRadius":0,"barWidth":0.97,"fullHighlight":false,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"orientation":"auto","showValue":"auto","stacking":"normal","tooltip":{"hideZeros":false,"mode":"single","sort":"none"},"xTickLabelRotation":0,"xTickLabelSpacing":0},"pluginVersion":"12.3.1","targets":[{"dataset":"qengineering","editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\n  $__timeGroupAlias(timestamp,$__interval),\n    p.name AS metric,\n      SUM(m.churn) AS \"churn\"\n      FROM \"ProjectMetric\" m\n      JOIN \"Project\" p ON m.\"projectId\" = p.id\n      JOIN \"TeamProject\" tp ON p.id = tp.\"projectId\"\n      JOIN \"TeamMembership\" tm ON tp.\"teamId\" = tm.\"teamId\"\n      WHERE\n        $__timeFilter(timestamp) AND   p.name IN ($project) AND   tp.\"teamId\" IN ($team) AND   tm.\"personId\" IN ($member)\n        GROUP BY 1, 2\n        ORDER BY 1, 2","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Code Churn over Time","type":"barchart"},{"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":0},"id":1,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"datasource":{"type":"postgres","uid":"dfa30v4tij0n4d"},"format":"time_series","rawSql":"SELECT m.timestamp as time, m.\"linesOfCode\" as value, p.name as metric FROM \"ProjectMetric\" m JOIN \"Project\" p ON m.\"projectId\" = p.id JOIN \"TeamProject\" tp ON p.id = tp.\"projectId\" JOIN \"TeamMembership\" tm ON tp.\"teamId\" = tm.\"teamId\" WHERE $__timeFilter(m.timestamp) AND (tp.\"teamId\" IN ($team) OR 'all' IN ($team)) AND (p.id IN ($project) OR 'all' IN ($project)) AND (tm.\"personId\" IN ($member) OR 'all' IN ($member)) ORDER BY m.timestamp ASC","refId":"A"}],"title":"Lines of Code over Time (Contextual)","type":"timeseries"},{"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":8},"id":2,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"datasource":{"type":"postgres","uid":"dfa30v4tij0n4d"},"format":"time_series","rawSql":"SELECT m.timestamp as time, m.\"commitCount\" as value, p.name as metric FROM \"ProjectMetric\" m JOIN \"Project\" p ON m.\"projectId\" = p.id JOIN \"TeamProject\" tp ON p.id = tp.\"projectId\" JOIN \"TeamMembership\" tm ON tp.\"teamId\" = tm.\"teamId\" WHERE $__timeFilter(m.timestamp) AND (tp.\"teamId\" IN ($team) OR 'all' IN ($team)) AND (p.id IN ($project) OR 'all' IN ($project)) AND (tm.\"personId\" IN ($member) OR 'all' IN ($member)) ORDER BY m.timestamp ASC","refId":"A"}],"title":"Commit Count over Time (Contextual)","type":"timeseries"},{"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":24,"x":0,"y":16},"id":3,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"datasource":{"type":"postgres","uid":"dfa30v4tij0n4d"},"format":"time_series","rawSql":"SELECT m.timestamp as time, m.additions as value, COALESCE(pers.name, m.\"gitEmail\") as metric FROM \"ProjectAuthorMetric\" m JOIN \"Project\" p ON m.\"projectId\" = p.id JOIN \"TeamProject\" tp ON p.id = tp.\"projectId\" JOIN \"TeamMembership\" tm ON tp.\"teamId\" = tm.\"teamId\" LEFT JOIN \"Person\" pers ON m.\"personId\" = pers.id WHERE $__timeFilter(m.timestamp) AND (tp.\"teamId\" IN ($team) OR 'all' IN ($team)) AND (p.id IN ($project) OR 'all' IN ($project)) AND (tm.\"personId\" IN ($member) OR 'all' IN ($member)) AND (m.\"personId\" = tm.\"personId\" OR m.\"personId\" IS NULL) ORDER BY m.timestamp ASC","refId":"A"}],"title":"Developer Activity (Contextual)","type":"timeseries"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"dfa30v4tij0n4d"},"description":"Percentage of existing methods that have unit tests defined for them.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"max":100,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":null},{"color":"yellow","value":50},{"color":"green","value":80}]},"unit":"percent"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":8},"id":5,"options":{"barRadius":0,"barWidth":0.97,"fullHighlight":false,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"orientation":"auto","showValue":"auto","stacking":"normal","tooltip":{"hideZeros":false,"mode":"single","sort":"none"},"xTickLabelRotation":0,"xTickLabelSpacing":0},"pluginVersion":"12.3.1","targets":[{"datasource":{"type":"postgres","uid":"dfa30v4tij0n4d"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\n  $__timeGroupAlias(timestamp,$__interval),\n    p.name AS metric,\n      AVG(m.coverage) AS \"coverage\"\n      FROM \"ProjectMetric\" m\n      JOIN \"Project\" p ON m.\"projectId\" = p.id\n      JOIN \"TeamProject\" tp ON p.id = tp.\"projectId\"\n      JOIN \"TeamMembership\" tm ON tp.\"teamId\" = tm.\"teamId\"\n      WHERE\n        $__timeFilter(timestamp) AND   p.id IN ($project) AND   tp.\"teamId\" IN ($team) AND   tm.\"personId\" IN ($member) AND m.coverage IS NOT NULL\n        GROUP BY 1, 2\n        ORDER BY 1, 2","refId":"A"}],"title":"Method Coverage (Defined Unit Tests)","type":"barchart"}],"preload":false,"refresh":"5s","schemaVersion":42,"tags":["templated","contextual"],"templating":{"list":[{"allValue":"all","datasource":{"type":"postgres","uid":"dfa30v4tij0n4d"},"includeAll":true,"label":"Team","multi":true,"name":"team","options":[],"query":"SELECT id as value, name as text FROM \"Team\" ORDER BY name","type":"query"},{"allValue":"all","datasource":{"type":"postgres","uid":"dfa30v4tij0n4d"},"includeAll":true,"label":"Project","multi":true,"name":"project","options":[],"query":"SELECT p.id as value, p.name as text FROM \"Project\" p JOIN \"TeamProject\" tp ON p.id = tp.\"projectId\" WHERE (tp.\"teamId\" IN ($team) OR 'all' IN ($team)) AND p.\"isSelected\" = true ORDER BY p.name","refresh":1,"type":"query"},{"allValue":"all","datasource":{"type":"postgres","uid":"dfa30v4tij0n4d"},"includeAll":true,"label":"Member","multi":true,"name":"member","options":[],"query":"SELECT DISTINCT pers.id as value, pers.name as text FROM \"Person\" pers JOIN \"TeamMembership\" tm ON pers.id = tm.\"personId\" WHERE (tm.\"teamId\" IN ($team) OR 'all' IN ($team)) ORDER BY pers.name","refresh":1,"type":"query"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"browser","title":"Project Engineering Metrics","uid":"project-metrics","version":8,"weekStart":""}}